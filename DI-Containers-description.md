# DI Containers
## Dependency injection 
**Внедрение зависимостей** — это стиль настройки объекта, при котором поля объекта задаются внешней сущностью. Другими словами, объекты настраиваются внешними объектами. DI — это альтернатива самонастройке объектов.  
Пример (взят с [_link_](https://habr.com/ru/post/350068/)):  
```
public class MyDao {
    private DataSource dataSource =
        new DataSourceImpl("driver", "url", "user", "password");

    //data access methods...
    public Person readPerson(int primaryKey) {...}
}
```
Класс MyDao создает экземпляр DataSourceImpl. Тот факт, что MyDao нуждается в реализации DataSource, означает, что он зависит от него. Следовательно, MyDao имеет «зависимость» от интерфейса DataSource и от какой-то его реализации.  
Класс MyDao создает экземпляр DataSourceImpl как реализацию DataSource. Следовательно, класс MyDao сам **_разрешает свои зависимости_**, что делает его негибким в отношении к этим зависимостям. Это приводит к тому, что если вам нужно поменять зависимости, вам нужно поменять код.  
```
public class MyDao {
    private final DataSource dataSource;
    
    public MyDao(DataSource dataSource){
      this.dataSource = dataSource;
    }

    //data access methods...
    public Person readPerson(int primaryKey) {...}
}
```
Теперь класс MyDao больше не зависит от класса DataSourceImpl или от четырех строк, необходимых конструктору DataSourceImpl. Теперь можно использовать любую реализацию DataSource в конструкторе MyDao.  Но вместо этого теперь придётся знать о реализации DataSourceImpl на более высоких уровнях абстракции, что ещё хуже:
```
MyDao dao = new MyDao(new DataSourceImpl("driver", "url", "user", "password"));
```
Решение — продолжить внедрение зависимости по всем слоям. Таким образом, Такой **паттерн внедрения зависимости должен продолжаться через все слои приложения, с самого нижнего слоя** (слоя доступа к данным) до пользовательского интерфейса (если он есть).



## DI Container description
(Марк Симан, Стивен Ван Дерсен _Внедрение зависимостей на платформе .NET_)
> Def. ``DI-контейнер – это библиотека, которая обеспечивает функциональность механизма внедрения зависимостей.``  
Def. 
`` DI-контейнер - это  программная библиотека, позволяющая автоматизировать многие задачи, связанные с компоновкой объектов, управлением временем их жизни и их перехватом.``  


DI-контейнер представляет собой программную библиотеку, похожую на любую
другую библиотеку программных модулей. Она предоставляет API, которым можно
воспользоваться для компоновки объектов и составления графа объектов в рамках
одного вызова метода. DI-контейнеры также требуют, чтобы до компоновки объектов было проведено их конфигурирование.